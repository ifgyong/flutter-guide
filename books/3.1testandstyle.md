# æ–‡æœ¬å’Œæ ·å¼

## 3.1 Text and TextStyle 

`text`ç”¨äºæ˜¾ç¤ºç®€å•çš„æ–‡å­—å’Œæ ·å¼ï¼Œä¸‹é¢çœ‹ä¸‹ç®€å•çš„ä¾‹å­

```dart
Text('text HelloWord',
      textAlign: TextAlign.left,)
      
Text(
        'åŠ äº†styleçš„æ–‡æœ¬',
        style: TextStyle(
            color: Colors.red,
            fontSize: 30,
            height: 1.4,
            background: new Paint()..color = Colors.black12,
            decoration: TextDecoration.underline,
            decorationColor: Colors.blue,
            decorationStyle: TextDecorationStyle.wavy),
      )
```

æ•ˆæœå¦‚ä¸‹ï¼š

![](../imgs/1.1-1.png)

ä¸€ä¸ªæ˜¯ç®€å•çš„æ–‡æœ¬æ˜¾ç¤ºï¼Œå±æ€§  `textAlign:TextAlign.left`

å¥½åƒæ²¡èµ·ä½œç”¨ï¼ŒåŸå› æ˜¯æ–‡æœ¬æ²¡è¶…è¿‡ä¸€è¡Œï¼Œæ²¡æ•ˆæœã€‚

åº•éƒ¨æ³¢çº¹ä»£ç å¦‚ä¸‹ï¼š

```dart
decoration: TextDecoration.underline,
decorationColor: Colors.blue,
decorationStyle: TextDecorationStyle.wavy
```

è¿™ä¸‰è¡Œçš„æ ·å¼æ˜¯åœ¨åº•éƒ¨æ·»åŠ äº†æ³¢çº¹çº¿ï¼ŒSDKä¸€å…±ç»™äº†4ä¸­çº¿çš„æ ·å¼ï¼Œ

```dart
enum TextDecorationStyle {
  /// Draw a solid line
  solid,
  /// Draw two lines
  double,
  /// Draw a dotted line
  dotted,
  /// Draw a dashed line
  dashed,
  /// Draw a sinusoidal line
  wavy
}
```

æ•ˆæœå¦‚ä¸‹ï¼š

![](../imgs/textdecorationstyle.gif)

å–œæ¬¢å“ªä¸€ä¸ªéšæ„æŒ‘é€‰å“¦ã€‚

å½“æ–‡æœ¬è¶…è¿‡ä¸€è¡Œçš„è¯å¯ä»¥æˆªæ–­æˆ–è€…æ¢è¡Œ ç”¨åˆ°äº†å±æ€§`TextOverflow`

```dart
 Text(
    'TextOverflow.visible' * 10,
    textAlign: TextAlign.left,
    maxLines: 1,
    overflow: TextOverflow.visible,
  )
```

å®˜æ–¹æä¾›äº†å››ç§æ–¹å¼ï¼Œåœ¨è®¾ç½®`maxLines=2`æ•ˆæœå¦‚ä¸‹

![](../imgs/1.1-2.gif)

é»˜è®¤`maxLines`æ˜¯æ— é™çš„ï¼Œè‡ªåŠ¨æ¢è¡Œçš„ã€‚å¦‚æœè®¾ç½®å›ºå®šè¡Œæ•°ï¼Œåˆ™æ–‡æœ¬æœ€å¤šä¸è¶…è¿‡è¯¥è¡Œæ•°ï¼Œè¶…è¿‡è¯¥è¡Œæ•°åˆ™è¢«æˆªæ–­ï¼Œæˆªæ–­æ–¹å¼å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚ç³»ç»Ÿè¿˜æä¾›äº†æ–‡å­—é—´éš”`wordSpacing`å’Œå­—ç¬¦é—´éš”`letterSpacing`ï¼Œå­—ä½“æ”¾å¤§å€æ•°`textScaleFactor`,å¦‚æœä¸è®¾ç½® ï¼Œä¼š `MediaQueryData.textScaleFactor`è·å–ï¼Œé»˜è®¤æ˜¯`1.0`ã€‚

### 

## 3.2. TextSpan

é¦–å…ˆçœ‹ä¸€ä¸ªç®€å•ä¾‹å­ï¼š

```dart

TextSpan(
        text: 'Jok Ma,hello!',
        style: TextStyle(
          fontSize: 20,
        ),
        children: [
          TextSpan(
              text: 'Bo',
              style: TextStyle(
                  fontSize: 20,
                  color: Colors.blue,
                  backgroundColor: Colors.black12)),
          TextSpan(
              text: 'b,hello!',
              style: TextStyle(
                  fontSize: 30,
                  color: Colors.red,
                  backgroundColor: Colors.lightGreenAccent)),
          TextSpan(
              text: 'two line',
              style: TextStyle(
                  fontSize: 30,
                  color: Colors.red,
                  backgroundColor: Colors.lightGreenAccent,
                  decoration: TextDecoration.underline,
                  decorationColor: Colors.blue,
                  decorationStyle: TextDecorationStyle.double)),
          TextSpan(
            text: '\nç‚¹å‡»æ‰“å¼€æˆ‘ ğŸ–±http://www.fgyong.cn',
            style: TextStyle(fontSize: 20, height: 2),
            recognizer: new TapGestureRecognizer()..onTap = () {
                        _openUrl('http://www.fgyong.cn');
                      },
          ),
        ]),
  ),
 //æ˜¯å¦æ‰“å¼€url
void _openUrl(String url) async {
if (await canLaunch(url)) {
  await launch(url);
} else {
  throw 'could not launch $url';
}
}
  
```
æ•ˆæœå¦‚ä¸‹ï¼š

![](../imgs/3.1-3.png)

è¿™é‡Œä½¿ç”¨äº†`TextSpan`ç»„ä»¶ï¼Œå’Œ`Text`ç±»ä¼¼çš„éƒ½æœ‰`style`ï¼Œè¿™ä¸€ç‚¹å®Œå…¨ä¸€è‡´ï¼Œä¸åŒçš„æ˜¯`TextSpan`å¯ä»¥æ·»åŠ `children`,è¿™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥è¿ç»­æ·»åŠ å¾ˆå¤š`TextSpan`,æ¯ä¸ªéƒ½å¯ä»¥å•ç‹¬è®¾ç½®æ ·å¼ï¼Œæ¯”å¦‚ä¸€ä¸ªæ‰‹æœºå·ï¼Œä¸€ä¸ªç½‘å€ï¼Œã€‚ã€‚å¯ä»¥é€šè¿‡`recognizer: new TapGestureRecognizer()..onTap = _openUrl`æ¥å®ç°ç‚¹å‡»æ–‡æœ¬è·³è½¬`_openUrl`å‡½æ•°ï¼Œè¿™ç»™æ–‡æœ¬å¸¦æ¥äº†æ›´å¤šçš„å¯èƒ½æ€§ã€‚

`height`å±æ€§æ˜¯è®¡ç®—æ–¹å¼æ˜¯`fontSize * height`ï¼Œé»˜è®¤æ˜¯`1.0`ï¼Œè®¾ç½®å­—ä½“å¤§å°è¿˜æœ‰ä¸€ä¸ªå±æ€§æ˜¯`textScaleFactor`ï¼Œè¿™ä¸ªæ˜¯è®¡ç®—æ–¹å¼æ˜¯`fontSize *  textScaleFactor`,é»˜è®¤æ˜¯`1.0`.

- `fontSize`å­—ä½“å…·ä½“çš„å¤§å°
- `height` è¡Œé«˜
- `textScaleFactor`ï¼Œæœ¬è´¨æ˜¯`fontSize *  textScaleFactor`,é»˜è®¤æ˜¯`1.0 * fontSize `

## 3.3 DefaultTextStyle
å¯ä»¥è¢«ç»§æ‰¿çš„`TextStyle`,å½“ä¸€ä¸ªå­æ ‘åŸºæœ¬æ ·å¼ç±»ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨`DefaultTextStyle`

```

DefaultTextStyle(
        //1.è®¾ç½®æ–‡æœ¬é»˜è®¤æ ·å¼
        style: TextStyle(
          color: Colors.blue,
          fontSize: 30.0,
        ),
        textAlign: TextAlign.start,
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: <Widget>[
            Text("Jack  Ma"),
            Text("I am Ok"),
            Text(
              "I am Jack",
              style: TextStyle(
                  inherit: false, //2.ä¸ç»§æ‰¿é»˜è®¤æ ·å¼
                  color: Colors.grey),
            ),
          ],
        ),
      )
      
```

æ•ˆæœå¦‚ä¸‹ï¼š

![](../imgs/3.3.3-1.png)

è¿™é‡Œè¾¹é»˜è®¤æ ·å¼æ˜¯å­—ä½“å¤§å°30(é€»è¾‘åƒç´ ),ç„¶åé€šè¿‡`DefaultTextStyle`è®¾ç½®å­æ ‘çš„æ ·å¼ï¼Œè¿™æ ·å­æ‰€æœ‰å­æ ‘ä¸­çš„æ ·å¼éƒ½éµä»è¯¥æ ·å¼ï¼Œå¯ä»¥é€šè¿‡`inherit: false`æ˜¾ç¤ºæŒ‡å®šä¸ç»§æ‰¿è¯¥æ ·å¼ã€‚

## 3.3.4 å­—ä½“

å½“å¼€å‘äººå‘˜æƒ³ä½¿ç”¨è‡ªå®šä¹‰(éé»˜è®¤)å­—ä½“,å¯ä»¥å»[Googleä¸‹è½½](https://fonts.google.com/)ï¼Œåˆ™å¯ä»¥é€šè¿‡`pubspec.yml`ä¸­å£°æ˜ä»–ï¼Œç„¶åå°†å­—ä½“ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®å¦‚ï¼š

```


```
[æ›´å¤šå­—ä½“è®¾ç½®è§å®˜ç½‘](https://flutter.dev/docs/cookbook/design/fonts#from-packages)