{"./":{"url":"./","title":"ç®€ä»‹","keywords":"","body":"Introduction "},"books/3.2state.html":{"url":"books/3.2state.html","title":"3.2ï¼šçŠ¶æ€ç®¡ç†","keywords":"","body":"çŠ¶æ€ç®¡ç† 3.2.1 çŠ¶æ€ç®¡ç† ç®€ä»‹ Widgetåˆ†ä¸ºæœ‰çŠ¶æ€å’Œæ— çŠ¶æ€ï¼Œæœ‰çŠ¶æ€çš„åˆ™å°±éœ€è¦æœ‰äººæ¥ç®¡ç†äº†ï¼Œçˆ¶ç»„ä»¶ç®¡ç†å’Œè‡ªå·±ç®¡ç†å„æœ‰ä»€ä¹ˆä¼˜åŠ£å‘¢ï¼Ÿ å¦‚æœçŠ¶æ€æ˜¯ç”¨æˆ·æ•°æ®ï¼Œå¦‚ï¼šå¤é€‰æ¡†ã€æ»‘å—ä½ç½®ã€æœ€å¥½æœ‰çˆ¶ç»„ä»¶ç®¡ç†ã€‚ å¦‚æœçŠ¶æ€æ˜¯æœ‰å…³ç•Œé¢çš„æ•ˆæœï¼Œä¾‹å¦‚é¢œè‰²ã€åŠ¨ç”»ã€æœ€å¥½ç”±è‡ªå·±ç®¡ç†ã€‚ å¦‚æœæŸä¸€ä¸ªçŠ¶æ€æ˜¯ä¸åŒçš„Widgetå…±äº«ï¼Œåˆ™æœ€å¥½æ˜¯çˆ¶ç»„ä»¶ç®¡ç†ã€‚ åœ¨ç»„ä»¶å†…éƒ¨ç®¡ç†ï¼Œå°è£…æ€§å½“ç„¶æ˜¯å¥½ä¸€ç‚¹ï¼Œè€Œç¼ºå°‘äº†çµæ´»æ€§ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ç®¡ç†å­ç»„ä»¶çš„çŠ¶æ€ï¼Œåˆ™æ›´çµæ´»ï¼Œè®¾è®¡ç»„ä»¶çš„æ—¶å€™ï¼Œåº”å·²çµæ´»å¤šå˜ä¸ºè¦ç‚¹ï¼Œå¤šä½çˆ¶ç»„ä»¶ç®¡ç†ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨å‡ ä¸ªä¾‹å­åˆ†åˆ«æ¼”ç¤ºè‡ªå·±ç®¡ç†ã€çˆ¶ç®¡ç†ã€å¤šç»„ä»¶ç®¡ç†æ¥è¯´æ˜çŠ¶æ€ç®¡ç†ä¸åŒæ–¹å¼ã€‚ æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šä¸€ä¸ªç›’å­ï¼Œæ´»è·ƒçŠ¶æ€æ˜¯çº¢è‰²ï¼Œä¸æ´»è·ƒæ˜¯ç°è‰². è‡ªå·±ç®¡ç†çŠ¶æ€ è‡ªå·±ç®¡ç†çŠ¶æ€ï¼Œå¤–æ¥æ— åºå‚ä¸å³å¯å®Œæˆå·¦å³æ­¥éª¤ã€‚å®Œå…¨å°é—­ã€‚ class TapBox extends StatefulWidget { TapBoxState createState() => TapBoxState(); } class TapBoxState extends State { bool _selected = false; @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: Text('è‡ªå·±ç®¡ç†çŠ¶æ€'), ), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: [ Container( color: _selected ? Colors.red : Colors.black12, child: FlatButton( child: Text(_selected ? 'Active' : 'Inactive'), onPressed: _tap, ), ) ], ), ), ); } void _tap() { setState(() { _selected = !_selected; }); } } æ•ˆæœ: çˆ¶ç»„ä»¶ç®¡ç† çˆ¶ç»„ä»¶å¯ä»¥æŒ‡å®šå­ç»„ä»¶çš„çŠ¶æ€ï¼Œå½“æ¡ä»¶å¤æ‚çš„æ—¶å€™ï¼Œæäº¤æ•°æ®åˆ°æœåŠ¡åå°ï¼Œå¤±è´¥äº†ï¼Œè¿™ç§æƒ…å†µå°±ç”¨çˆ¶ç»„ä»¶æ¥ä¼ é€’çŠ¶æ€åˆ°å­ç»„ä»¶ã€‚ /// å°è£…å¥½çš„å­ç»„ä»¶ class TapBox2 extends StatefulWidget { final bool selected; final onChange onchange; TapBox2({Key key, this.selected, this.onchange}) : super(key: key); TapBoxState2 createState() => TapBoxState2(); } typedef onChange = Function(bool); class TapBoxState2 extends State { bool _selected; @override void initState() { _selected = widget.selected == true; super.initState(); } @override Widget build(BuildContext context) { return Container( color: widget.selected == true ? Colors.red : Colors.black12, child: FlatButton( child: Text(widget.selected == true ? 'Active' : 'Inactive'), onPressed: _tap, ), ); } void _tap() { if (widget.onchange != null) { _selected = !_selected; widget.onchange(_selected); } } } /// çˆ¶ç»„ä»¶æ¥ç®¡ç† class TapBox extends StatefulWidget { TapBoxState createState() => TapBoxState(); } class TapBoxState extends State { bool _selected = false; @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: Text('ç®¡ç†çŠ¶æ€'), ), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: [ Container( color: _selected ? Colors.red : Colors.black12, child: TapBox2( onchange: (v) { setState(() { _selected = v; }); }, selected: _selected, ), ) ], ), ), ); } } æ•ˆæœï¼š æ··åˆç®¡ç† æœ‰äº›ç»„ä»¶ï¼Œæ··åˆæ–¹å¼æ¯”è¾ƒé€‚ç”¨ï¼Œè¿™ç§æƒ…å†µï¼Œç»„ä»¶è‡ªèº«ç®¡ç†ä¸€éƒ¨åˆ†çŠ¶æ€ï¼Œçˆ¶ç»„ä»¶ç®¡ç†ä¸€äº›å¤–éƒ¨çŠ¶æ€ã€‚ ä¸‹é¢çš„ä¾‹å­æ˜¯ä¸æ´»è·ƒçŠ¶æ€æŒ‰ä¸‹ç›’å­å‘¨å›´æ˜¾ç¤ºçº¢è‰²è¾¹æ¡†ï¼Œæ´»è·ƒçŠ¶æ€æŒ‰ä¸‹æ˜¾ç¤ºè“è‰²è¾¹æ¡†ï¼ŒæŠ¬èµ·æ—¶è¾¹æ¡†æ¶ˆå¤±ï¼Œç‚¹å‡»å®Œæˆåï¼ŒçŠ¶æ€è¿›è¡Œæ”¹å˜ã€‚æ´»è·ƒçŠ¶æ€ç”±å¤–éƒ¨ç®¡ç†,è¾¹æ¡†å˜åŒ–æœ‰å†…éƒ¨ç®¡ç†ã€‚ class TapBox3 extends StatefulWidget { final bool selected; final onChange onchange; TapBox3({Key key, this.selected, this.onchange}) : super(key: key); TapBoxState3 createState() => TapBoxState3(); } class TapBoxState3 extends State { bool _touching = false; @override void initState() { super.initState(); } @override Widget build(BuildContext context) { return Container( child: GestureDetector( child: Container( height: 50, width: 120, alignment: Alignment.center, child: Text(widget.selected == true ? 'Active' : 'Inactive'), decoration: new BoxDecoration( color: widget.selected == true ? Colors.red : Colors.black12, border: _touching ? Border.all( color: widget.selected == false ? Colors.red : Colors.blue, width: 4) : null), ), onTap: _tap, onTapDown: (TapDownDetails details) { _touchStart(); }, onTapUp: (detail) { _touchend(); }, ), ); } void _tap() { if (widget.onchange != null) { widget.onchange(!widget.selected); } } void _touchStart() { setState(() { _touching = true; }); } void _touchend() { setState(() { _touching = false; }); } } /// çˆ¶ç»„ä»¶ç®¡ç†æ´»è·ƒçŠ¶æ€ Container( color: _selected ? Colors.red : Colors.black12, child: TapBox3( onchange: (v) { setState(() { _selected = v; }); }, selected: _selected, ), ) æ•ˆæœï¼š 3.2.2 å…¨å±€çŠ¶æ€ç®¡ç† å½“è·¨é¡µé¢çŠ¶æ€ç®¡ç†çš„æ—¶å€™ï¼Œä¸Šé¢çš„æƒ…å†µå·²ç»ä¸é€‚ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨eventBusæ¥è¿›è¡Œæ•°æ®ä¼ é€’ï¼Œæˆ–è€…ä½¿ç”¨Providerè¿›è¡Œæ•°æ®ç®¡ç†å’Œé¡µé¢åˆ·æ–°ã€‚ è‡ªå·±ç®¡ç†æˆ–è€…çˆ¶çº§ç®¡ç†æœ¬è´¨æ˜¯å¯ä»¥è°ƒç”¨Stateçš„setState((){})è¿›è¡ŒWidgetçš„buildå‡½æ•°ï¼Œå½“è¿™äº›ç»„ä»¶ä¸åœ¨ä¸€ä¸ªé¡µé¢ï¼Œåˆ™æ— æ³•è¿›è¡Œç›´æ¥é€šä¿¡ï¼Œè¿™æ—¶æˆ‘ä»¬æœ‰2ä¸­æ–¹æ³•è§£å†³ã€‚ å®ç°ä¸€ä¸ªå…¨å±€çš„æ—¶é—´æ€»çº¿ï¼Œå°†çŠ¶æ€å¯¹åº”ä¸€ä¸ªäº‹ä»¶ï¼Œç„¶ååœ¨å¯¹åº”çš„Widgetè¿›è¡Œåˆ·æ–°ã€‚ ä½¿ç”¨ä¸“é—¨ç®¡ç†çŠ¶æ€çš„åŒ…ï¼Œå¦‚Providerã€Reduxï¼Œè¯¦ç»†ç”¨æ³•è§pub åœ¨åç»­ç« èŠ‚ä¸­ä¼šä»‹ç»çŠ¶æ€ç®¡ç†çš„æœºåˆ¶åŸç†ï¼Œå†æ¬¡ä¸åšç´¯è¿°ã€‚ "},"books/3.3textandstyle.html":{"url":"books/3.3textandstyle.html","title":"3.3ï¼šæ–‡æœ¬å’Œæ ·å¼","keywords":"","body":"æ–‡æœ¬å’Œæ ·å¼ 3.1 Text and TextStyle textç”¨äºæ˜¾ç¤ºç®€å•çš„æ–‡å­—å’Œæ ·å¼ï¼Œä¸‹é¢çœ‹ä¸‹ç®€å•çš„ä¾‹å­ Text('text HelloWord', textAlign: TextAlign.left,) Text( 'åŠ äº†styleçš„æ–‡æœ¬', style: TextStyle( color: Colors.red, fontSize: 30, height: 1.4, background: new Paint()..color = Colors.black12, decoration: TextDecoration.underline, decorationColor: Colors.blue, decorationStyle: TextDecorationStyle.wavy), ) æ•ˆæœå¦‚ä¸‹ï¼š ä¸€ä¸ªæ˜¯ç®€å•çš„æ–‡æœ¬æ˜¾ç¤ºï¼Œå±æ€§ textAlign:TextAlign.left å¥½åƒæ²¡èµ·ä½œç”¨ï¼ŒåŸå› æ˜¯æ–‡æœ¬æ²¡è¶…è¿‡ä¸€è¡Œï¼Œæ²¡æ•ˆæœã€‚ åº•éƒ¨æ³¢çº¹ä»£ç å¦‚ä¸‹ï¼š decoration: TextDecoration.underline, decorationColor: Colors.blue, decorationStyle: TextDecorationStyle.wavy è¿™ä¸‰è¡Œçš„æ ·å¼æ˜¯åœ¨åº•éƒ¨æ·»åŠ äº†æ³¢çº¹çº¿ï¼ŒSDKä¸€å…±ç»™äº†4ä¸­çº¿çš„æ ·å¼ï¼Œ enum TextDecorationStyle { /// Draw a solid line solid, /// Draw two lines double, /// Draw a dotted line dotted, /// Draw a dashed line dashed, /// Draw a sinusoidal line wavy } æ•ˆæœå¦‚ä¸‹ï¼š å–œæ¬¢å“ªä¸€ä¸ªéšæ„æŒ‘é€‰å“¦ã€‚ å½“æ–‡æœ¬è¶…è¿‡ä¸€è¡Œçš„è¯å¯ä»¥æˆªæ–­æˆ–è€…æ¢è¡Œ ç”¨åˆ°äº†å±æ€§TextOverflow Text( 'TextOverflow.visible' * 10, textAlign: TextAlign.left, maxLines: 1, overflow: TextOverflow.visible, ) å®˜æ–¹æä¾›äº†å››ç§æ–¹å¼ï¼Œåœ¨è®¾ç½®maxLines=2æ•ˆæœå¦‚ä¸‹ é»˜è®¤maxLinesæ˜¯æ— é™çš„ï¼Œè‡ªåŠ¨æ¢è¡Œçš„ã€‚å¦‚æœè®¾ç½®å›ºå®šè¡Œæ•°ï¼Œåˆ™æ–‡æœ¬æœ€å¤šä¸è¶…è¿‡è¯¥è¡Œæ•°ï¼Œè¶…è¿‡è¯¥è¡Œæ•°åˆ™è¢«æˆªæ–­ï¼Œæˆªæ–­æ–¹å¼å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚ç³»ç»Ÿè¿˜æä¾›äº†æ–‡å­—é—´éš”wordSpacingå’Œå­—ç¬¦é—´éš”letterSpacingï¼Œå­—ä½“æ”¾å¤§å€æ•°textScaleFactor,å¦‚æœä¸è®¾ç½® ï¼Œä¼š MediaQueryData.textScaleFactorè·å–ï¼Œé»˜è®¤æ˜¯1.0ã€‚ 3.2. TextSpan é¦–å…ˆçœ‹ä¸€ä¸ªç®€å•ä¾‹å­ï¼š TextSpan( text: 'Jok Ma,hello!', style: TextStyle( fontSize: 20, ), children: [ TextSpan( text: 'Bo', style: TextStyle( fontSize: 20, color: Colors.blue, backgroundColor: Colors.black12)), TextSpan( text: 'b,hello!', style: TextStyle( fontSize: 30, color: Colors.red, backgroundColor: Colors.lightGreenAccent)), TextSpan( text: 'two line', style: TextStyle( fontSize: 30, color: Colors.red, backgroundColor: Colors.lightGreenAccent, decoration: TextDecoration.underline, decorationColor: Colors.blue, decorationStyle: TextDecorationStyle.double)), TextSpan( text: '\\nç‚¹å‡»æ‰“å¼€æˆ‘ ğŸ–±http://www.fgyong.cn', style: TextStyle(fontSize: 20, height: 2), recognizer: new TapGestureRecognizer()..onTap = () { _openUrl('http://www.fgyong.cn'); }, ), ]), ), //æ˜¯å¦æ‰“å¼€url void _openUrl(String url) async { if (await canLaunch(url)) { await launch(url); } else { throw 'could not launch $url'; } } æ•ˆæœå¦‚ä¸‹ï¼š è¿™é‡Œä½¿ç”¨äº†TextSpanç»„ä»¶ï¼Œå’ŒTextç±»ä¼¼çš„éƒ½æœ‰styleï¼Œè¿™ä¸€ç‚¹å®Œå…¨ä¸€è‡´ï¼Œä¸åŒçš„æ˜¯TextSpanå¯ä»¥æ·»åŠ children,è¿™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥è¿ç»­æ·»åŠ å¾ˆå¤šTextSpan,æ¯ä¸ªéƒ½å¯ä»¥å•ç‹¬è®¾ç½®æ ·å¼ï¼Œæ¯”å¦‚ä¸€ä¸ªæ‰‹æœºå·ï¼Œä¸€ä¸ªç½‘å€ï¼Œã€‚ã€‚å¯ä»¥é€šè¿‡recognizer: new TapGestureRecognizer()..onTap = _openUrlæ¥å®ç°ç‚¹å‡»æ–‡æœ¬è·³è½¬_openUrlå‡½æ•°ï¼Œè¿™ç»™æ–‡æœ¬å¸¦æ¥äº†æ›´å¤šçš„å¯èƒ½æ€§ã€‚ heightå±æ€§æ˜¯è®¡ç®—æ–¹å¼æ˜¯fontSize * heightï¼Œé»˜è®¤æ˜¯1.0ï¼Œè®¾ç½®å­—ä½“å¤§å°è¿˜æœ‰ä¸€ä¸ªå±æ€§æ˜¯textScaleFactorï¼Œè¿™ä¸ªæ˜¯è®¡ç®—æ–¹å¼æ˜¯fontSize * textScaleFactor,é»˜è®¤æ˜¯1.0. fontSizeå­—ä½“å…·ä½“çš„å¤§å° height è¡Œé«˜ textScaleFactorï¼Œæœ¬è´¨æ˜¯fontSize * textScaleFactor,é»˜è®¤æ˜¯1.0 * fontSize 3.3 DefaultTextStyle å¯ä»¥è¢«ç»§æ‰¿çš„TextStyle,å½“ä¸€ä¸ªå­æ ‘åŸºæœ¬æ ·å¼ç±»ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨DefaultTextStyle DefaultTextStyle( //1.è®¾ç½®æ–‡æœ¬é»˜è®¤æ ·å¼ style: TextStyle( color: Colors.blue, fontSize: 30.0, ), textAlign: TextAlign.start, child: Column( crossAxisAlignment: CrossAxisAlignment.start, children: [ Text(\"Jack Ma\"), Text(\"I am Ok\"), Text( \"I am Jack\", style: TextStyle( inherit: false, //2.ä¸ç»§æ‰¿é»˜è®¤æ ·å¼ color: Colors.grey), ), ], ), ) æ•ˆæœå¦‚ä¸‹ï¼š è¿™é‡Œè¾¹é»˜è®¤æ ·å¼æ˜¯å­—ä½“å¤§å°30(é€»è¾‘åƒç´ ),ç„¶åé€šè¿‡DefaultTextStyleè®¾ç½®å­æ ‘çš„æ ·å¼ï¼Œè¿™æ ·å­æ‰€æœ‰å­æ ‘ä¸­çš„æ ·å¼éƒ½éµä»è¯¥æ ·å¼ï¼Œå¯ä»¥é€šè¿‡inherit: falseæ˜¾ç¤ºæŒ‡å®šä¸ç»§æ‰¿è¯¥æ ·å¼ã€‚ 3.3.4 å­—ä½“ å½“å¼€å‘äººå‘˜æƒ³ä½¿ç”¨è‡ªå®šä¹‰(éé»˜è®¤)å­—ä½“,å¯ä»¥å»Googleä¸‹è½½ï¼Œåˆ™å¯ä»¥é€šè¿‡pubspec.ymlä¸­å£°æ˜ä»–ï¼Œç„¶åå°†å­—ä½“ç§»åŠ¨åˆ°ç›®å½•ä¸‹fontsä¸‹ï¼š ç„¶ååœ¨pubspec.ymlçš„å£°æ˜å¦‚ä¸‹ï¼š fonts: - family: Merriweather fonts: - asset: fonts/Merriweather-Black.ttf - asset: fonts/Merriweather-Light.ttf weight: 700 è¿™æ ·å­å°±å¯ä»¥åœ¨textStyleä¸­ä½¿ç”¨äº† TextStyle(fontFamily: 'Merriweather',) æˆ–è€…åœ¨ä¸»é¢˜ä¸­ç›´æ¥å£°æ˜é»˜è®¤çš„å­—ä½“ ThemeData( primarySwatch: Colors.blue, visualDensity: VisualDensity.adaptivePlatformDensity, fontFamily: 'Merriweather') æ›´å¤šå­—ä½“è®¾ç½®è§å®˜ç½‘ å¦‚æœæƒ³çœäº‹å¯ä»¥ä½¿ç”¨google_fonts. "},"books/3.4button.html":{"url":"books/3.4button.html","title":"3.4ï¼šæŒ‰é’®","keywords":"","body":"3.4 æŒ‰é’® 3.4.1 Materialç»„ä»¶åº“çš„æŒ‰é’® Material ç»„ä»¶åº“ä¸­æä¾›äº†å¤šç§æŒ‰é’®ç»„ä»¶å¦‚RaisedButtonã€FlatButtonã€OutlineButtonç­‰ï¼Œå®ƒä»¬éƒ½æ˜¯ç›´æ¥æˆ–é—´æ¥å¯¹RawMaterialButtonç»„ä»¶çš„åŒ…è£…å®šåˆ¶ï¼Œæ‰€ä»¥ä»–ä»¬å¤§å¤šæ•°å±æ€§éƒ½å’ŒRawMaterialButtonä¸€æ ·ã€‚åœ¨ä»‹ç»å„ä¸ªæŒ‰é’®æ—¶æˆ‘ä»¬å…ˆä»‹ç»å…¶é»˜è®¤å¤–è§‚ï¼Œè€ŒæŒ‰é’®çš„å¤–è§‚å¤§éƒ½å¯ä»¥é€šè¿‡å±æ€§æ¥è‡ªå®šä¹‰ï¼Œæˆ‘ä»¬åœ¨åé¢ç»Ÿä¸€ä»‹ç»è¿™äº›å±æ€§ã€‚å¦å¤–ï¼Œæ‰€æœ‰Material åº“ä¸­çš„æŒ‰é’®éƒ½æœ‰å¦‚ä¸‹ç›¸åŒç‚¹ï¼š æŒ‰ä¸‹æ—¶éƒ½ä¼šæœ‰â€œæ°´æ³¢åŠ¨ç”»â€ï¼ˆåˆç§°â€œæ¶Ÿæ¼ªåŠ¨ç”»â€ï¼Œå°±æ˜¯ç‚¹å‡»æ—¶æŒ‰é’®ä¸Šä¼šå‡ºç°æ³¢çº¹çš„åŠ¨ç”»ï¼‰ã€‚ æœ‰ä¸€ä¸ªonPressedå±æ€§æ¥è®¾ç½®ç‚¹å‡»å›è°ƒï¼Œå½“æŒ‰é’®æŒ‰ä¸‹æ—¶ä¼šæ‰§è¡Œè¯¥å›è°ƒï¼Œå¦‚æœä¸æä¾›è¯¥å›è°ƒåˆ™æŒ‰é’®ä¼šå¤„äºç¦ç”¨çŠ¶æ€ï¼Œç¦ç”¨çŠ¶æ€ä¸å“åº”ç”¨æˆ·ç‚¹å‡»ã€‚ FlatButton FlatButtonæ˜¯ä¸€ä¸ªæ‰å¹³æŒ‰é’®ï¼Œåœ¨é»˜è®¤èƒŒæ™¯é€æ˜æ— é˜´å½±ï¼ŒæŒ‰ä¸‹åæœ‰æ·±è‰²èƒŒæ™¯ï¼Œå¦‚å›¾ï¼š ä½¿ç”¨èµ·æ¥å¾ˆç®€å•ï¼š FlatButton( child: Text('nomal'), onPressed: () {},), RaisedButton RaisedButtonæ˜¯æ¼‚æµ®æŒ‰é’®ï¼Œé»˜è®¤å¸¦æœ‰èƒŒæ™¯å’Œé˜´å½±ï¼Œæ´»è·ƒçŠ¶æ€æŒ‰é’®èƒŒæ™¯å˜å¤§ï¼Œå¦‚å›¾æ‰€ç¤º IconButton IconButtoné»˜è®¤æ˜¯iconä½œä¸ºwidgetï¼ŒèƒŒæ™¯é€æ˜ï¼ŒæŒ‰å‹çŠ¶æ€ä¸‹ï¼Œæ³¢çº¹çŠ¶ï¼ŒèƒŒæ™¯å˜å¤§ã€‚å¦‚å›¾æ‰€ç¤º FloatingActionButton FloatingActionButtonå³æ˜¯æ‚¬æµ®æŒ‰é’®ï¼Œé»˜è®¤èƒŒæ™¯æ˜¯ä¸»é¢˜è‰²ï¼ŒæŒ‰å‹ä¹Ÿä¼šæœ‰æ³¢çº¹ã€‚å³è¾¹æ˜¯æŒ‰å‹ï¼Œå·¦è¾¹æ˜¯æ­£å¸¸çŠ¶æ€ã€‚ ä½¿ç”¨ä¾‹å­ï¼š FloatingActionButton(child: Icon(Icons.add), onPressed: () {}, ) BackButton CloseButton å®˜æ–¹å°è£…å¥½çš„è¿”å›å’Œå…³é—­æŒ‰é’®,å¦‚å›¾ï¼š ä½¿ç”¨ä¾‹å­: BackButton(onPressed: () {},), CloseButton(onPressed: () {},), OutlineButton OutlineButtonå¸¦è¾¹æ¡†çš„æŒ‰é’®ï¼Œé»˜è®¤æœ‰ç°è‰²è¾¹æ¡†ï¼ŒæŒ‰å‹ä¸‹è¾¹æ¡†é«˜äº®ï¼Œå¯ä»¥åŒæ—¶å…¼å¤‡iconå’Œlabel,å¦‚å›¾ï¼š ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼š OutlineButton( child: Text('OutlineButton'), onPressed: () {}, ), SizedBox( width: 10, ), OutlineButton.icon( icon: Icon(Icons.add), label: Text('label'), onPressed: () {}, ), SizedBox( width: 10, ), OutlineButton.icon( icon: Icon(Icons.add), label: Text('active'), onPressed: () {}, ) è‡ªå®šä¹‰æŒ‰é’®å¤–è§‚ å¤–è§‚å¯ä»¥é€šè¿‡å±æ€§æ¥å®šä¹‰ï¼Œä¸åŒæŒ‰é’®åŸºæœ¬ä¸€æ ·ï¼Œæˆ‘ä»¬ä»¥IconButtonä¸ºä¾‹å­ï¼Œä»‹ç»ä¸€ä¸‹å¸¸ç”¨å±æ€§ï¼Œè¯¦ç»†çš„å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚ textColor : æ–‡æœ¬å’Œiconçš„é¢œè‰² disabledBorderColor: ä¸ç‚¹å‡»çŠ¶æ€ä¸‹çš„è¾¹æ¡†é¢œè‰² highlightedBorderColorï¼š ç‚¹å‡»çŠ¶æ€ä¸‹è¾¹æ¡†é¢œè‰² splashColor:æ³¢çº¹é¢œè‰² borderSideï¼šè¾¹æ¡†å®½åº¦å’Œé¢œè‰² ç¤ºä¾‹ï¼š ä»£ç å¦‚ä¸‹ï¼š OutlineButton.icon( onPressed: () {}, icon: Icon(Icons.add), label: Text('diy style'), color: Colors.black12, textColor: Colors.blue, disabledBorderColor: Colors.black, highlightedBorderColor: Colors.greenAccent, splashColor: Colors.red ) å¦‚ä½•è‡ªå·±å®ç°ä¸€ä¸ªButton,åœ¨åç»­ç« èŠ‚ä¸­ä¼šå†æ¬¡è¯¦ç»†è®²åˆ°ï¼Œåœ¨æ­¤ä¸è¿‡å¤šç´¯è¿°ã€‚ "},"books/3.5img.html":{"url":"books/3.5img.html","title":"3.5ï¼šå›¾ç‰‡å’ŒIcon","keywords":"","body":"3.5 å›¾ç‰‡åŠIcon 3.5.1 å›¾ç‰‡ Flutterä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡imageåŠ è½½å¹¶æ˜¾ç¤ºå›¾ç‰‡ï¼Œæ•°æ®æºå¯ä»¥æ˜¯assetã€fileã€å†…å­˜ã€ç½‘ç»œã€‚ Image imageWidgetæœ‰ä¸€ä¸ªå¿…é€‰çš„å‚æ•°ï¼Œå¯¹åº”äº†ä¸€ä¸ªImageProvider,ä¸‹è¾¹æˆ‘ä»¬æ¥æ¼”ç¤ºä¸€ä¸‹imageçš„ä½¿ç”¨ã€‚ ä»assetsåŠ è½½ é¦–å…ˆå°†æ–‡ä»¶å¤åˆ¶åˆ°å·¥ç¨‹æŒ‡å®šæ–‡ä»¶å¤¹å†…ï¼Œæˆ‘ä»¬ç§»åŠ¨è‡³imgæ–‡ä»¶å¤¹ä¸‹ï¼Œ ç„¶ååœ¨pubpspec.yamlå†…å£°æ˜ assets: - img/1.jpeg ç„¶åè¿è¡Œflutter pub get,(æˆ–è€… android studio ä¸­ç¼–è¾‘ pubpspec.yamlç‚¹å‡»å³ä¸Šè§’pub getæŒ‰é’®)ã€‚ ç„¶åä»£ç ä¸­å¯ä»¥ä½¿ç”¨äº†ï¼Œå®ä¾‹: Image.asset('img/1.jpeg') æ•ˆæœå¦‚å›¾æ‰€ç¤ºï¼š ä»ç½‘ç»œåŠ è½½ Image( image: NetworkImage( \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1593336370404&di=c03084a66d06c1af8995088158e907c3&imgtype=0&src=http%3A%2F%2Fdmimg.5054399.com%2Fallimg%2Fpkm%2Fpk%2F13.jpg\"), width: 100.0, ) æˆ–è€…ä½¿ç”¨å¿«æ·çš„æ„é€ å‡½æ•°Image.networkç”¨äºä»ç½‘ç»œåŠ è½½ã€æ˜¾ç¤ºå›¾ç‰‡ Image.network( \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1593336370404&di=c03084a66d06c1af8995088158e907c3&imgtype=0&src=http%3A%2F%2Fdmimg.5054399.com%2Fallimg%2Fpkm%2Fpk%2F13.jpg\", width: 120, ), å‚æ•° Imageåœ¨æ˜¾ç¤ºå›¾ç‰‡æ˜¯å®šä¹‰äº†ä¸€ç³»åˆ—å‚æ•°ï¼Œé€šè¿‡å®šä¹‰ä¸€ç³»åˆ—å‚æ•°è¾¾åˆ°æ”¹å˜å›¾ç‰‡å¤–è§‚ã€å¤§å°ã€æ··åˆæ•ˆæœç­‰ï¼Œæˆ‘ä»¬çœ‹ä¸‹Imageçš„ä¸»è¦å‚æ•°ï¼š const Image({ ... this.width, //å›¾ç‰‡çš„å®½ this.height, //å›¾ç‰‡é«˜åº¦ this.color, //å›¾ç‰‡çš„æ··åˆè‰²å€¼ this.colorBlendMode, //æ··åˆæ¨¡å¼ this.fit,//ç¼©æ”¾æ¨¡å¼ this.alignment = Alignment.center, //å¯¹é½æ–¹å¼ this.repeat = ImageRepeat.noRepeat, //é‡å¤æ–¹å¼ ... }) widthã€height ï¼šç”¨æˆ·è®¾ç½®å›¾ç‰‡å¤§å°ï¼Œå½“ä¸æŒ‡å®šå¤§å°ï¼Œå›¾ç‰‡åˆ™åœ¨å¯Œå®¹å™¨å†…è¿›è¡Œå æ»¡ï¼Œå½“è®¾ç½®widthæˆ–heightæ—¶ï¼Œå¦å¤–ä¸€ä¸ªä¼šæŒ‰ç…§æ¯”ä¾‹ç¼©æ”¾ï¼Œä½†å¯ä»¥é€šè¿‡fitæ¥æŒ‡å®šç¼©æ”¾è§„åˆ™ã€‚ fit:æŒ‡å®šå›¾ç‰‡åœ¨å®¹å™¨å†…çš„ç¼©æ”¾è§„åˆ™ã€‚æœ‰å¦‚ä¸‹å‡ ä¸ªå€¼ fill:ä¼šæ‹‰ä¼¸é“ºæ»¡ï¼Œå›¾ç‰‡ä¼šå˜å½¢ cover: æŒ‰ç…§å›¾ç‰‡çš„é•¿å®½æ”¾å¤§åå¡«æ»¡å®¹å™¨ï¼Œä¸ä¼šå˜å½¢ã€‚ fitWidth: å›¾ç‰‡ä¼šéšç€ç¼©æ”¾åˆ°æ˜¾ç¤ºçš„å®½åº¦ï¼Œåœ¨ä¿è¯ä¸å˜å½¢çš„æ¡ä»¶ä¸‹è¿›è¡Œé€‚åº”å®½åº¦,è¶…å‡ºéƒ¨åˆ†ä¼šè£å‰ªã€‚ fitHeight:å›¾ç‰‡é«˜åº¦ä¼šæŒ‰ç…§ç­‰æ¯”ä¾‹ç¼©æ”¾åˆ°é€‚åº”é«˜åº¦ï¼Œè¶…å‡ºéƒ¨åˆ†ä¼šè£å‰ªã€‚ none: æ— é€‚åº”è§„åˆ™ï¼Œä¼šæ˜¾ç¤ºå½“å‰å®¹å™¨çš„å¤§å°ï¼Œå¦‚æœå›¾ç‰‡è¿‡å¤§ï¼Œåˆ™åªä¼šæ˜¾ç¤ºä¸­é—´éƒ¨åˆ†ã€‚ çœ‹å›¾ï¼Œç®€å•æ˜äº†ï¼š coloræŒ‡å®šæ··åˆé¢œè‰²ï¼ŒcolorBlendModeæŒ‡å®šæ··åˆæ¨¡å¼ã€‚ ä¾‹å­ï¼š Image( image: NetworkImage( \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1593336370404&di=c03084a66d06c1af8995088158e907c3&imgtype=0&src=http%3A%2F%2Fdmimg.5054399.com%2Fallimg%2Fpkm%2Fpk%2F13.jpg\"), width: 100.0, color: Colors.greenAccent, colorBlendMode: BlendMode.colorBurn, ) æ•ˆæœï¼š repeatæ˜¯å½“å›¾ç‰‡ä¸å¤Ÿå®¹å™¨å¤§å°å¯ä»¥è®¾ç½®æ²¿ç€Xæˆ–è€…Yè¿›è¡Œé‡å¤é“ºã€‚ Image( image: NetworkImage( \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1593336370404&di=c03084a66d06c1af8995088158e907c3&imgtype=0&src=http%3A%2F%2Fdmimg.5054399.com%2Fallimg%2Fpkm%2Fpk%2F13.jpg\"), width: 100.0, height: 200, color: Colors.greenAccent, colorBlendMode: BlendMode.colorBurn, repeat: ImageRepeat.repeat, ) æ•ˆæœï¼š Image ä»ç½‘ç»œä¸‹è½½åŠ¨ç”» Imageä»ç½‘ç»œä¸‹è½½ä¼šä¸çŸ­æš‚çš„ ç©ºç™½æ—¶é—´ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸æƒ³çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åŠ è½½çš„æ—¶å€™æ˜¾ç¤ºèŠèŠ±è½¬ã€‚ Image( image: NetworkImage( \"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2053400745,529716701&fm=26&gp=0.jpg\"), width: 100.0, height: 200, loadingBuilder: ( BuildContext context, Widget child, ImageChunkEvent loadingProgress, ) { if (loadingProgress == null) { return child; } return CircularProgressIndicator(); }, ) æ•ˆæœå¦‚å›¾æ‰€ç¤ºï¼š 3.5.2 Icon flutterä¸­å¯ä»¥ä½¿ç”¨iconFontï¼Œå°±æ˜¯å°†å›¾æ ‡åšæˆæ–‡ä»¶ï¼Œé€šè¿‡æŒ‡å®šå­—ç¬¦åŠ è½½ä¸åŒicon. å­—ä½“æ–‡ä»¶ä¸­ï¼Œæ¯ä¸€ä¸ªå­—ç¬¦éƒ½å¯¹åº”ä¸€ä¸ªä½ç ï¼Œä¸åŒå­—ä½“å°±æ˜¯å­—å½¢ä¸åŒï¼Œå³å­—ç¬¦å¯¹åº”çš„å­—å½¢ä¸åŒï¼Œæœ€ç»ˆæ¸²æŸ“çš„ä¸åŒçš„å›¾æ ‡ã€‚ Flutteré»˜è®¤åŒ…å«äº†ä¸€å¥—Material Designçš„å­—ä½“å›¾æ ‡ï¼Œåœ¨pubspec.yamlæ–‡ä»¶ä¸­çš„é…ç½®å¦‚ä¸‹ uses-material-design: true Material Designæ‰€æœ‰å›¾æ ‡å¯ä»¥åœ¨å…¶å®˜ç½‘æŸ¥çœ‹. ä¾‹å­ï¼š Text('\\uE915 \\uE002 \\uE900', style: TextStyle( fontFamily: \"MaterialIcons\", fontSize: 24.0, color: Colors.green)) æ•ˆæœï¼š å¯¹ç€code æ‰¾å›¾æ ‡æ˜æ˜¾ä¸æ˜¯å¤ªäººæ€§åŒ–ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨cupertino_icons Icon( Icons.clear, color: Colors.red, ), Icon( Icons.add, color: Colors.greenAccent, ), Icon( Icons.collections, color: Colors.blue, ), Icon( Icons.extension, color: Colors.orange, ) ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“å›¾æ ‡ æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“å›¾æ ‡ã€‚iconfont.cnä¸Šæœ‰å¾ˆå¤šå­—ä½“å›¾æ ‡ç´ æï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©è‡ªå·±éœ€è¦çš„å›¾æ ‡æ‰“åŒ…ä¸‹è½½åï¼Œä¼šç”Ÿæˆä¸€äº›ä¸åŒæ ¼å¼çš„å­—ä½“æ–‡ä»¶ï¼Œåœ¨Flutterä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ttfæ ¼å¼å³å¯ã€‚ å‡è®¾æˆ‘ä»¬é¡¹ç›®ä¸­éœ€è¦ä½¿ç”¨ä¸€ä¸ªä¹¦ç±å›¾æ ‡å’Œå¾®ä¿¡å›¾æ ‡ï¼Œæˆ‘ä»¬æ‰“åŒ…ä¸‹è½½åå¯¼å…¥ï¼š å¯¼å…¥å­—ä½“å›¾æ ‡æ–‡ä»¶ï¼›è¿™ä¸€æ­¥å’Œå¯¼å…¥å­—ä½“æ–‡ä»¶ç›¸åŒï¼Œå‡è®¾æˆ‘ä»¬çš„å­—ä½“å›¾æ ‡æ–‡ä»¶ä¿å­˜åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œè·¯å¾„ä¸º\"fonts/iconfont.ttf\"ï¼š fonts: - family: myIcon #æŒ‡å®šä¸€ä¸ªå­—ä½“å fonts: - asset: fonts/iconfont.ttf ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªMyIconsç±»ï¼ŒåŠŸèƒ½å’ŒIconsç±»ä¸€æ ·ï¼šå°†å­—ä½“æ–‡ä»¶ä¸­çš„æ‰€æœ‰å›¾æ ‡éƒ½å®šä¹‰æˆé™æ€å˜é‡ï¼š class MyIcons{ // book å›¾æ ‡ static const IconData book = const IconData( 0xe614, fontFamily: 'myIcon', matchTextDirection: true ); // å¾®ä¿¡å›¾æ ‡ static const IconData wechat = const IconData( 0xec7d, fontFamily: 'myIcon', matchTextDirection: true ); } ä½¿ç”¨ Row( mainAxisAlignment: MainAxisAlignment.center, children: [ Icon(MyIcons.book,color: Colors.purple,), Icon(MyIcons.wechat,color: Colors.green,), ], ) è¿è¡Œåæ•ˆæœå¦‚å›¾3-22æ‰€ç¤ºï¼š "},"books/3.6sw.html":{"url":"books/3.6sw.html","title":"3.6ï¼šå•é€‰å’Œå¤é€‰çŸ¿","keywords":"","body":"3.6 å•é€‰å’Œå¤é€‰ 3.6.1 å•é€‰å’Œå¤é€‰ å•é€‰å’Œå¤é€‰å¾ˆç®€å•ï¼Œåªéœ€è¦ä¸€ä¸ªvalueå’Œä¸€ä¸ªå±æ€§æ¥ç»´æŠ¤æ¯ä¸ªé€‰æ‹©æ¡†çš„valueå³å¯ã€‚ class BaseSwitch extends StatefulWidget { @override State createState() { return BaseSwitchState(); } } class BaseSwitchState extends State { @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: Text('å¼¹æ¡†'), ), body: Container( margin: EdgeInsets.all(30), child: _body(), ), ); } bool _state1 = false, _state2 = true, _s3 = true, _s4 = false; Widget _body() { Widget w = Column( children: [ Container( height: 30, child: Text('CupertinoSwitchState:$_state1'), ), CupertinoSwitch( value: _state1, onChanged: (v) { setState(() { _state1 = v; }); }, ), Container( height: 30, child: Text('SwitchStates:$_state2'), ), Switch( value: _state2, onChanged: (v) { setState(() { _state2 = v; }); }, ), Container( height: 30, child: Text('Checkbox'), ), Row( mainAxisAlignment: MainAxisAlignment.center, children: [ Checkbox( value: _s3, onChanged: (v) { setState(() { _s3 = v; }); }, ), Checkbox( value: _s4, onChanged: (v) { setState(() { _s4 = v; }); }, ) ], ) ], ); return w; } } æ•ˆæœå¦‚ä¸‹ï¼š å±æ€§å’Œå¤–è§‚ Switchå’ŒCheckBoxå±æ€§å¾ˆç®€å•ï¼Œå¯ä»¥è®¾ç½®valueæ¥æ§åˆ¶æ˜¯å¦è¢«é€‰ä¸­ï¼Œéœ€è¦çˆ¶çº§æ§ä»¶æ¥ç»´æŠ¤,çŠ¶æ€æ”¹å˜æ—¶ä¹Ÿæ˜¯çˆ¶çº§æ¥ç»´æŠ¤,å¦å¤–è¿˜å¯ä»¥è®¾ç½®activeColoræ¿€æ´»é¢œè‰²ï¼Œå’ŒnormalçŠ¶æ€çš„é¢œè‰²trackColorã€‚ è¿™æ ·å­è®¾è®¡ç»„ä»¶çš„å¥½å¤„æ˜¯ï¼Œäº¤äº’äº¤ç»™å¤–éƒ¨ï¼Œè‡ªå·±åªå¤„ç†æ ·å¼ï¼Œè¿™æ ·å­ä¼ é€’çš„ä¿¡æ¯å¯ä»¥æ›´çµæ´»ã€‚ "},"books/3.7textfield.html":{"url":"books/3.7textfield.html","title":"3.7ï¼šè¾“å…¥æ¡†","keywords":"","body":"3.7 è¾“å…¥æ¡†å’Œè¡¨å• è¾“å…¥æ¡†æœ‰TextFieldã€å¸¦æœ‰iOSé£æ ¼çš„CupertinoTextField,è¿˜æœ‰è¡¨å•form. 3.7.1 TextField TextFieldé»˜è®¤å¸¦æœ‰ä¸‹åˆ’çº¿ï¼Œæ— è¾¹æ¡†çš„ï¼Œå±æ€§InputDecorationå¯ä»¥è®¾ç½®é»˜è®¤æ–‡å­—ï¼Œå½“ç¼–è¾‘çŠ¶æ€ï¼Œæ–‡å­—å·²åŠ¨ç”»å½¢å¼ä¸Šæµ®è‡³å·¦ä¸Šè§’ï¼Œè¿™æ˜¯å…¶ä»–è¾“å…¥æ¡†æ‰€æ²¡æœ‰çš„ã€‚å…¶ä»–çš„çœ‹ä¸‹å±æ€§ï¼š const TextField({ ... this.controller, this.focusNode, this.decoration = const InputDecoration(), TextInputType keyboardType, this.textInputAction, this.style, this.textAlign = TextAlign.start, this.textAlignVertical, this.textDirection, this.showCursor, this.autofocus = false, this.obscureText = false, this.enableSuggestions = true, this.maxLines = 1, this.minLines, this.expands = false, this.maxLength, this.onChanged, this.onEditingComplete, this.onSubmitted, this.inputFormatters, this.enabled, this.cursorWidth = 2.0, this.cursorRadius, this.cursorColor, ... }) controllerå¯ä»¥è·å–æ–‡å­—å’Œè®¾ç½®æ–‡å­—ï¼Œ focusNode è·å–ç„¦ç‚¹ keyboardTypeé”®ç›˜ç±»å‹ textInputActionè¾“å…¥é”®ç›˜å³ä¸‹è§’çš„é”® onChanged å½“textFieldçš„valueå˜åŒ–å›è°ƒå‡½æ•° onSubmittedæäº¤æŒ‰é”® obscureText trueåˆ™æ˜¾ç¤ºåŸç‚¹ï¼Œå¦åˆ™æ˜¾ç¤ºåŸæ–‡å­— cursorWidthå…‰æ ‡å®½åº¦ cursorRadius å…‰æ ‡åœ†åœˆåŠå¾„ cursorColorå…‰æ ‡é¢œè‰² textInputActionæœ‰å¤šä¸ªå€¼ï¼Œå…·ä½“è§ä¸‹è¡¨æ ¼ï¼š textInputAction å¤‡æ³¨ none Androidæ˜¯IME_ACTION_NONE,iOSæ²¡æœ‰ unspecified Android's IME_ACTION_UNSPECIFIED,iOS æ˜¯return done Android's IME_ACTION_DONE iOSæ˜¯done go android and iOS éƒ½æ˜¯go search android and ios is Search send android and ios is send next android and ios is next previous iOSæ²¡æœ‰ï¼ŒAndroid's IME_ACTION_PREVIOUS continueAction Androidæ²¡æœ‰ï¼ŒiOSä¸Šæ˜¯contion join android and ios is join route androidæ²¡æœ‰ï¼Œios is route emergencyCall androidæ²¡æœ‰ï¼Œios is Emergency Call newline android and ioséƒ½æ²¡æœ‰ï¼Œåªæ˜¯æ–¹ä¾¿å¼€å‘äººå‘˜è°ƒè¯• ä¾‹å­ï¼š _focusNode = new FocusNode(); _editingController = new TextEditingController(); _field = TextField( focusNode: _focusNode, onChanged: (v) { setState(() {}); }, onSubmitted: (v) { _focusNode.unfocus(); }, controller: _editingController, obscureText: false, //æ˜¯å¦æ˜¯å¯†ç  decoration: InputDecoration(hintText: 'æ‰‹æœºå·', labelText: 'æ‰‹æœºå·'), keyboardType: TextInputType.number, ); Column( children: [ Text('TextField'), _field, Text(_editingController.value.text), ], ) æ•ˆæœå¦‚ä¸‹ï¼š iOS-styleçš„ç»„ä»¶CupertinoTextField,å±æ€§å’ŒTextFieldåŸºæœ¬ä¸€è‡´; ä¾‹å­ï¼š _editingController2 = new TextEditingController(); _focusNode2 = new FocusNode(); _cupertinoTextField = CupertinoTextField( focusNode: _focusNode2, controller: _editingController2, placeholder: 'å¯†ç ', prefix: Icon(Icons.lock), textInputAction: TextInputAction.go, obscureText: true, ); Column( children: [ SizedBox( height: 30, ), Text('CupertinoTextField'), _cupertinoTextField, ], ) æ•ˆæœï¼š ç›‘å¬æ–‡æœ¬å˜åŒ– _editingController = new TextEditingController() ..addListener(() { print(\"${_editingController.value.text}\"); }); æˆ–è€… TextField( focusNode: _focusNode, onChanged: (v) { print('onChange$v'); }, controller: _editingController, ... ); æ”¶é”®ç›˜ TextField( focusNode: _focusNode, ); /// æ”¶é”®ç›˜ _focusNode.unfocus(); æ”¶é”®ç›˜ä¹‹å‰å¿…é¡»åœ¨åˆå§‹åŒ–çš„æ—¶å€™èµ‹å€¼ç»™TextField,å¦å¤–å®˜æ–¹è¿˜æä¾›äº†ç¼–è¾‘ä¸‹ä¸€ä¸ªtextField,å½“ä¸‹è¾¹æ²¡æœ‰å¯ä»¥æä¾›ç¼–è¾‘çš„textFieldåˆ™è¿›è¡Œä¹¦é”®ç›˜æ“ä½œï¼Œæœ‰çš„è¯åˆ™è·³è‡³ä¸‹ä¸€ä¸ªtextField. _focusNode.focusInDirection(TraversalDirection.down); 3.7.2 Form Formæ›´æ–°æ•°æ®å’Œè·å–æ•°æ®éœ€è¦ä½¿ç”¨_globalKeyè·å–å½“å‰çš„Stateã€‚ ä¾‹å­ï¼š Form( key: _globalKey, child: Column( crossAxisAlignment: CrossAxisAlignment.start, children: [ TextFormField( decoration: const InputDecoration( hintText: 'Enter your email', ), validator: (value) { if (value.isEmpty) { return 'Please enter some text'; } return null; }, ), Padding( padding: const EdgeInsets.symmetric(vertical: 16.0), child: RaisedButton( onPressed: () { // Validate will return true if the form is valid, or false if // the form is invalid. if (_globalKey.currentState.validate()) { // Process data. } }, child: Text('Submit'), ), ), ], ), ) Formå­æ ‘ä¸­å¯ä»¥æ˜¯å¤šä¸ªTextFormField,æ¯ä¸ªå¯ä»¥å•ä¸ªæ ¡éªŒï¼Œæ‰€æœ‰çš„éƒ½æ ¡éªŒè¿‡äº†ï¼ŒFormStateæ‰æ˜¯æ ¡éªŒé€šè¿‡çš„ï¼Œå¤šç”¨äºå¤šè¾“å…¥æ ¡éªŒã€‚é‚£ä¹ˆæˆ‘ä»¬å†™ä¸€ä¸ªç™»é™†çš„ç®€å•æ ¡éªŒã€‚ ä¾‹å­ï¼š _form = Form( key: _globalKey, child: Column( crossAxisAlignment: CrossAxisAlignment.start, children: [ TextFormField( decoration: const InputDecoration( hintText: 'Enter your email', icon: Icon(Icons.mail)), validator: (value) { if (value.isEmpty) { return 'Please enter some text'; } return null; }, ), TextFormField( controller: _editingController3, decoration: InputDecoration( labelText: \"å¯†ç \", hintText: \"æ‚¨çš„ç™»å½•å¯†ç \", icon: Icon(Icons.lock)), obscureText: true, //æ ¡éªŒå¯†ç  validator: (v) { return v.trim().length > 5 ? null : \"å¯†ç ä¸èƒ½å°‘äº6ä½\"; }), Padding( padding: const EdgeInsets.symmetric(vertical: 16.0), child: RaisedButton( onPressed: () { // Validate will return true if the form is valid, or false if // the form is invalid. if (_globalKey.currentState.validate()) { // Process data. print('æ ¡éªŒé€šè¿‡'); } setState(() { _done = _globalKey.currentState.validate(); }); }, child: Text('Submit'), ), ), ], ), ); "},"books/3.8indicator.html":{"url":"books/3.8indicator.html","title":"3.8: è¿›åº¦æŒ‡ç¤ºå™¨","keywords":"","body":"3.8 è¿›åº¦æŒ‡ç¤ºå™¨ Materialç»„ä»¶åº“ä¸­æä¾›äº†ä¸¤ç§è¿›åº¦æŒ‡ç¤ºå™¨ï¼šLinearProgressIndicatorå’ŒCircularProgressIndicatorï¼Œå®ƒä»¬éƒ½å¯ä»¥åŒæ—¶ç”¨äºç²¾ç¡®çš„è¿›åº¦æŒ‡ç¤ºå’Œæ¨¡ç³Šçš„è¿›åº¦æŒ‡ç¤ºã€‚ç²¾ç¡®è¿›åº¦é€šå¸¸ç”¨äºä»»åŠ¡è¿›åº¦å¯ä»¥è®¡ç®—å’Œé¢„ä¼°çš„æƒ…å†µï¼Œæ¯”å¦‚æ–‡ä»¶ä¸‹è½½ï¼›è€Œæ¨¡ç³Šè¿›åº¦åˆ™ç”¨æˆ·ä»»åŠ¡è¿›åº¦æ— æ³•å‡†ç¡®è·å¾—çš„æƒ…å†µï¼Œå¦‚ä¸‹æ‹‰åˆ·æ–°ï¼Œæ•°æ®æäº¤ç­‰ã€‚ 3.8.1 LinearProgressIndicator LinearProgressIndicatorçº¿å½¢çš„è¿›åº¦æŒ‡ç¤ºå™¨ï¼Œçœ‹æ–‡æ¡£å¦‚ä¸‹ï¼š const LinearProgressIndicator({ Key key, double value, Color backgroundColor, Animation , String semanticsLabel, String semanticsValue, }) valueé»˜è®¤ä¸ºnullï¼Œæ•ˆæœä¸ºåŠ¨ç”»,èŒƒå›´æ˜¯[0,1] backgroundColoræ˜¯åŠ¨ç”»èƒŒæ™¯é¢œè‰²ï¼Œä¸ºé™æ€çš„ valueColoræ˜¯åŠ¨ç”»å‰æ™¯è‰²ï¼Œå¯ä»¥ä½¿ç”¨AnimationControlleræ­é…è¾¾åˆ°é¢œè‰²å˜åŒ–çš„ç›®çš„ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨AlwaysStoppedAnimationæ¥è¾¾åˆ°é™æ€é¢œè‰²ã€‚ ä¾‹å­ï¼š LinearProgressIndicator( valueColor: AlwaysStoppedAnimation(Colors.orange), backgroundColor: Colors.black12, ) æ•ˆæœï¼š è®¾ç½®å¤§å°å’Œçº¿æ¡å®½åº¦ï¼š SizedBox( height: 20, width: 200, child: LinearProgressIndicator( // value: 0.1, valueColor: AlwaysStoppedAnimation(Colors.orange), backgroundColor: Colors.black12, ), ), æ•ˆæœï¼š CircularProgressIndicator CircularProgressIndicatoræ˜¯åŸå‹è¿›åº¦æŒ‡ç¤ºå™¨ï¼Œå¯ä»¥è‡ªå·±é…ç½®é¢œè‰²å’Œè¿›åº¦ï¼Œç›¸å…³å±æ€§ç´§ç´§æ¯”LinearProgressIndicatorå¤šäº†ä¸€ä¸ªçº¿æ¡å®½åº¦strokeWidth. ç›¸å…³å±æ€§ï¼š CircularProgressIndicator({ ... double value, Color backgroundColor, Animation valueColor, this.strokeWidth = 4.0 ... }) valueé»˜è®¤ä¸ºnullï¼Œæ•ˆæœä¸ºåŠ¨ç”»,èŒƒå›´æ˜¯[0,1] backgroundColoræ˜¯åŠ¨ç”»èƒŒæ™¯é¢œè‰²ï¼Œä¸ºé™æ€çš„ valueColoræ˜¯åŠ¨ç”»å‰æ™¯è‰²ï¼Œå¯ä»¥ä½¿ç”¨AnimationControlleræ­é…è¾¾åˆ°é¢œè‰²å˜åŒ–çš„ç›®çš„ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨AlwaysStoppedAnimationæ¥è¾¾åˆ°é™æ€é¢œè‰²ã€‚ this.strokeWidthé»˜è®¤ä¸º4ï¼Œå¯ä»¥è‡ªå®šå•ç‹¬è®¾ç½®ã€‚ ä¾‹å­ï¼š CircularProgressIndicator( valueColor: AlwaysStoppedAnimation(Colors.orange), backgroundColor: Colors.greenAccent, ) æ•ˆæœï¼š è‡ªå®šä¹‰å¤–è§‚ é€šè¿‡strokeWidthå®šä¹‰çº¿æ¡å®½åº¦ï¼Œé€šè¿‡valueColorå®šä¹‰æ¸å˜è‰²,backgroundColorå®šä¹‰èƒŒæ™¯è‰²ã€‚ ä¾‹å­ï¼š AnimationController _controller; @override void initState() { _controller = AnimationController(vsync: this, duration: Duration(milliseconds: 2000)) ..repeat(); super.initState(); } SizedBox( height: 200, width: 200, child: CircularProgressIndicator( valueColor: ColorTween(begin: Colors.grey, end: Colors.orange) .animate(_controller), backgroundColor: Colors.black12, strokeWidth: 10, ), ), æ•ˆæœï¼š æ›´å¤šè¿›åº¦æŒ‡ç¤ºå™¨ å’Œå¥½ç½‘çš„æ ·å¼å¯ä»¥å‚è€ƒflutter_easyHub è¿›åº¦æ¡ åˆ©ç”¨valueå¯ä»¥å®šåˆ¶ï¼Œå¯ä»¥ç”¨åœ¨ä¸‹è½½è¿›åº¦æŒ‡ç¤ºå™¨ä¸Šã€‚ ä¾‹å­ï¼š AnimationController _controller; Timer _timer; double _value = 0; @override void initState() { _controller = AnimationController(vsync: this, duration: Duration(milliseconds: 2000)) ..repeat(); _timer = Timer.periodic(Duration(milliseconds: 16), (t) { _value += 0.01; if (_value >= 1.0) { _value = 0; } setState(() {}); }); super.initState(); } SizedBox( height: 200, width: 200, child: Stack( children: [ Positioned.fill( child: CircularProgressIndicator( valueColor: ColorTween(begin: Colors.blue, end: Colors.orange) .animate(_controller), backgroundColor: Colors.black12, strokeWidth: 10, value: _value, ), ), Positioned.fill( child: Center( child: Text( '${(_value * 100).toDouble().toStringAsFixed(2)}%', style: TextStyle(fontSize: 20, color: Colors.orange), ), )) ], ), ), æ•ˆæœï¼š "},"books/3.9dialog.html":{"url":"books/3.9dialog.html","title":"3.9: å¼¹çª—","keywords":"","body":"3.9 å¼¹çª— ç»„ä»¶åº“ä¸­æä¾›äº†å¤šç§å¼¹çª—é€‚ç”¨äºé€‰æ‹©æ—¶é—´ã€å®šæ—¶ã€ç”¨æˆ·é€‰æ‹©ã€è¡¨å•æäº¤ç­‰ã€‚ã€‚ã€‚ 3.9.1 showCupertinoDialog showCupertinoModalPopupæ˜¯ä¸€ä¸ªiOS-styleé£æ ¼çš„å¼¹çª—ï¼Œä»åº•éƒ¨å¼¹å‡ºï¼Œé™„å¸¦äº†ä¸€ä¸ªå”¯ä¸€åŠ¨ç”»å’Œæ¸å˜æ¶ˆå¤±çš„åŠ¨ç”»ï¼ŒæŒ‰é’®ä¹Ÿæ˜¯iOS-styleé£æ ¼ï¼Œç‚¹å‡»é®ç½©è¿”å›ã€‚ä¸‹é¢çœ‹ä¸‹ä»£ç ï¼š ä¾‹å­ï¼š void _showActionSheet() { showCupertinoModalPopup( context: context, builder: (ctx) { return CupertinoActionSheet( title: Text('æ¸©é¦¨æç¤º'), message: Text('æˆ‘æ˜¯æ”¯ä»˜é€‰é¡¹ï¼Œä»»æ„é€‰æ‹©ä¸€ä¸ªè¿›è¡Œæ”¯ä»˜å“¦'), actions: [ CupertinoActionSheetAction(onPressed: _pop, child: Text('å¾®ä¿¡')), CupertinoActionSheetAction(onPressed: _pop, child: Text('æ”¯ä»˜å®')), CupertinoActionSheetAction( onPressed: _pop, child: Text('å–æ¶ˆ'), isDestructiveAction: true, ), ], ); }); } æ•ˆæœï¼š 3.9.2 showCupertinoDialog showCupertinoDialogæ˜¯å¯¹showGeneralDialogçš„ä¸€ä¸ªå°è£…ï¼Œåªæ˜¯barrierDismissibleã€barrierColorã€transitionDurationè¿›è¡Œäº†iOS-styleæ ¼è°ƒçš„è®¾ç½®ã€‚ æºç ï¼š Future showCupertinoDialog({ @required BuildContext context, @required WidgetBuilder builder, bool useRootNavigator = true, RouteSettings routeSettings, }) { assert(builder != null); assert(useRootNavigator != null); return showGeneralDialog( context: context, barrierDismissible: false, barrierColor: CupertinoDynamicColor.resolve(_kModalBarrierColor, context), // This transition duration was eyeballed comparing with iOS transitionDuration: const Duration(milliseconds: 250), pageBuilder: (BuildContext context, Animation animation, Animation secondaryAnimation) { return builder(context); }, transitionBuilder: _buildCupertinoDialogTransitions, useRootNavigator: useRootNavigator, routeSettings: routeSettings, ); } å’ŒshowCupertinoModalPopupåŒºåˆ«æ˜¯ä¸€ä¸ªä»åº•éƒ¨ï¼Œä¸€ä¸ªå…¨å±ã€‚ ä¸‹é¢çœ‹ä¸‹ä¾‹å­ï¼› showCupertinoDialog( context: context, builder: (ctx) { return CupertinoActionSheet( title: Text('æ¸©é¦¨æç¤º'), message: Text('æˆ‘æ˜¯showCupertinoDialog'), actions: [ CupertinoActionSheetAction(onPressed: _pop, child: Text('å¾®ä¿¡')), CupertinoActionSheetAction(onPressed: _pop, child: Text('æ”¯ä»˜å®')), CupertinoActionSheetAction( onPressed: _pop, child: Text('å–æ¶ˆ'), isDestructiveAction: true, ), ], ); }); æ•ˆæœï¼š 3.9.3 showAboutDialog showAboutDialogæ˜¯flutterå®˜æ–¹å°è£…çš„ä¸€ä¸ªå…³äºæˆ‘çš„ç»„ä»¶ï¼ŒåŒ…å«äº†ç‰ˆæœ¬å·ã€iconã€ä»¥åŠLicenseså†…å®¹ã€‚ ä¾‹å­ï¼š showAboutDialog( context: context, applicationVersion: '1.0.0', applicationIcon: Icon(Icons.scatter_plot), applicationName: 'Jack ma', ); 3.9.4 showGeneralDialog showGeneralDialogæ˜¯ä¸€ä¸ªæ¯”è¾ƒåŸºç¡€çš„å¼¹çª—ï¼Œ å¯ä»¥ç”¨è¿™ä¸ªå°è£…æˆä»»æ„å…¶ä»–çš„å¼¹çª—ã€‚ ä¾‹å­ï¼š showGeneralDialog( context: context, barrierDismissible: true, barrierLabel: 'cancel', transitionDuration: Duration(milliseconds: 1000), pageBuilder: (BuildContext context, Animation animation, Animation secondaryAnimation) { return Material( child: Scaffold( body: Center( child: CupertinoActionSheet( title: Text('æ¸©é¦¨æç¤º'), message: Text('æˆ‘æ˜¯showGeneralDialogï¼Œä»»æ„é€‰æ‹©ä¸€ä¸ªè¿›è¡Œæ”¯ä»˜å“¦'), actions: [ CupertinoActionSheetAction( onPressed: _pop, child: Text('å¾®ä¿¡')), CupertinoActionSheetAction( onPressed: _pop, child: Text('æ”¯ä»˜å®')), CupertinoActionSheetAction( onPressed: _pop, child: Text('å–æ¶ˆ'), isDestructiveAction: true, ), ], ), ), ), ); }); æ•ˆæœï¼š 3.9.4 showDialog showDialogä¹Ÿæ˜¯å°è£…çš„showGeneralDialog,åªæ˜¯å›ºå®šå‚æ•°è¿›è¡Œäº†é€‚é…ã€‚ void _showDialog() { showDialog(context: context, child: bd()); } Widget bd() { return CupertinoActionSheet( title: Text('æ¸©é¦¨æç¤º'), message: Text('æˆ‘æ˜¯æ”¯ä»˜é€‰é¡¹ï¼Œä»»æ„é€‰æ‹©ä¸€ä¸ªè¿›è¡Œæ”¯ä»˜å“¦'), actions: [ CupertinoActionSheetAction(onPressed: _pop, child: Text('å¾®ä¿¡')), CupertinoActionSheetAction(onPressed: _pop, child: Text('æ”¯ä»˜å®')), CupertinoActionSheetAction( onPressed: _pop, child: Text('å–æ¶ˆ'), isDestructiveAction: true, ), ], ); } 3.9.6 showDatePicker showDatePickeræ˜¯å®˜æ–¹æä¾›çš„ä¸€ä¸ªæ—¥å†ç»„ä»¶ï¼Œä¹Ÿæ˜¯åº§ä½å¼¹çª—å½¢å¼å±•ç°ï¼Œå‚æ•°å¾ˆç®€å•ã€‚ showDatePicker({ @required BuildContext context, @required DateTime initialDate, @required DateTime firstDate, @required DateTime lastDate ... } åªéœ€è¦é…ç½®å½“å‰çš„ä¸Šä¸‹æ–‡å’Œå¼€å§‹ç»“æŸæ—¶é—´å³å¯ã€‚ ä¾‹å­ï¼š showDatePicker( context: this.context, initialDate: DateTime.now(), //åˆå§‹æ—¶é—´ firstDate: DateTime.now(), //å¼€å§‹æ—¶é—´ lastDate: DateTime.now().add(Duration(days: 10)), //æœ€åæ—¶é—´æ˜¯å½“å‰æ—¶é—´åŠ ä¸Š10å¤© initialDatePickerMode: DatePickerMode.year, //æœ€å¼€å§‹å±•ç¤ºå¹´ä»½ initialEntryMode: DatePickerEntryMode.input, //å¼€å§‹æ˜¯è¾“å…¥æ—¶é—´è¿˜æ˜¯æ—¥å† selectableDayPredicate: (time) { print(time.toString()); return true; }) æ•ˆæœï¼š 3.9.7 showTimePicker showTimePickeræ˜¯ä¸€ä¸ªé€‰æ‹©æ—¶é—´é•¿çŸ­çš„æ§ä»¶,ä½¿ç”¨èµ·æ¥å¾ˆç®€å•ï¼Œåªéœ€è¦ä¼ å…¥é»˜è®¤æ—¶é—´å³å¯ã€‚ showTimePicker( context: this.context, initialTime: TimeOfDay(hour: 1, minute: 10)) æ•ˆæœï¼š "}}